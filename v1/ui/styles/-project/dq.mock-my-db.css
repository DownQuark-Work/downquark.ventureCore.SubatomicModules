@import "../_namespace/dq.mock-my-db.css" layer(dq);
@layer utilities, mock-my-db;

@layer mock-my-db {
  @layer cnvs-diagram, inpt-src, mock-dfn;
  /* middle section, left section, right section */
}

/* block at-rules
  @layer dq {rules}
  @layer {rules}
  @layer dq.mock-my-db {rules} * /
@layer mock-my-db { *{border:1px solid blue} }
@layer dq { *{border:1px solid red;text-decoration:underline} }
@layer utilities { *{border:1px solid black} }
/* */

@layer utilities {
  a {
    color:wheat;
    &:hover {
      text-decoration: none;
    }
  }
  code {
    display: block;
    overflow: hidden;
    inline-size: 100%;
  }

  pre {
    border: 1px solid wheat;
    color: wheat;
    inline-size: calc(100% - 1rem);
    margin-inline-start: .25rem;
    max-inline-size: 20vi;
    overflow: auto;
    padding: 0.5rem .25rem;
  }

  [data-can-resize] {
    &::after {
      bottom: -.5rem;
      color: var(--downquark-color-background-primary);
      content: "‚ùñ";
      font-size: x-large;
      padding: 0 .1rem;
      position: absolute;
      right: .2rem;
      top: -.2rem;
    }
  }
}

@layer mock-my-db {
  body.project.dq.mock-my-db {
    background-color: var(--downquark-color-background-primary);
    color: var(--downquark-color-text-primary);

    header {
      text-align: center;
      &::after {content:"dq"; line-height: 2rem;}
      &:hover {
        &::after {
          content: "";
          line-height: unset;
        }
        hgroup {
          display: block;
        }
      }
      hgroup {
        display: none;

        h1, h2 {
          margin: 0;
        }

        h2 {
          margin-block-end: 1rem;
          font-size: large;
        }
      }
    }

    & main {
      box-sizing: border-box;
      block-size: calc(100vb - 2.25rem);

      .mock-my-db.application-interface {
        block-size: 98%;
        border: 1px solid aqua;
        display: flex;
        inline-size: 100%;

        section {
          block-size: 98%;
          overflow: auto;
          padding: .25rem .5rem;
          resize: inline;
          vertical-align: text-top;

          &.cnvs-diagram {
            border-inline: 1px solid oklch(0.52 0.09 268.86);
            inline-size: 50vi;
            max-inline-size:50vi;
            min-inline-size: 20vi;
          }
          &.input-src {
            inline-size: 100%;
            max-inline-size: 20vi;
            min-inline-size: 10vi;
            overflow: hidden;
          }
          &.mock-dfn {
            inline-size: 30vi;
            max-inline-size: 70vi;
            min-inline-size: 30vi;
          }

          h2 {
            background: oklch(0.52 0.09 268.86);
            color: wheat;
            font-size:larger;
            inline-size: 100%;
            margin: -.25rem 0 0 -.5rem;
            overflow: hidden;
            padding: 0;
            text-align: center;
            width: calc(100% + 1rem);

            .cnvs-diagram & {
              box-sizing: border-box;
              border-inline-end: 1px solid black;
              border-inline-start: 1px solid black;
            }
          }
        }
      }
    }
  }
}
